(this["webpackJsonpspeedrun.ch"]=this["webpackJsonpspeedrun.ch"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"backendurl":"https://api.speedrun.ch/api"}')},37:function(e){e.exports=JSON.parse('[{"hashLink":true,"external":false,"uri":"/#about","label":"About Us"},{"hashLink":true,"external":false,"uri":"/#events","label":"Events"},{"hashLink":false,"external":false,"uri":"/gallery","label":"Gallery"},{"hashLink":false,"external":true,"uri":"https://discord.gg/JUG97CX","label":"Discord"}]')},44:function(e,t,n){e.exports=n(76)},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),l=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(7),s=n(10),u=n(15),o=n(37);var m=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!0),m=Object(i.a)(l,2),d=m[0],p=m[1],v=function(){c(!n)};Object(a.useEffect)((function(){window.onscroll=function(){!d&&window.scrollY<40?p(!0):d&&window.scrollY>40&&p(!1)}}));var h=o.map((function(e){return e.hashLink?r.a.createElement(u.HashLink,{key:e.uri,smooth:!0,to:e.uri},e.label):e.external?r.a.createElement("a",{key:e.uri,href:e.uri,target:"_blank",rel:"noopener noreferrer"},e.label):r.a.createElement(s.Link,{key:e.uri,to:e.uri},e.label)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{id:"nav-mobile",className:d?"navTransparent":"navWhite"},r.a.createElement("div",{className:"nav-header",id:"nav-mobile-header"},r.a.createElement("div",{className:"burger",onClick:function(){return v()},id:"burger"},r.a.createElement("i",{className:"icon icon-menu icon--s5","aria-hidden":"true"}))),r.a.createElement("div",{className:n?"nav-content active":"nav-content",id:"mobile-content",onClick:function(){return v()}},r.a.createElement(s.Link,{to:"/"},r.a.createElement("img",{src:"/img/logo_home.png",alt:"Helvetic Speedrunners Logo"})),h)),r.a.createElement("nav",{id:"nav-desktop",className:d?"navTransparent":"navWhite"},r.a.createElement(s.Link,{to:"/"},r.a.createElement("img",{src:"/img/logo_home.png",alt:"Helvetic Speedrunners Logo"})),h))},d=n(16),p=n.n(d);var v=function(e){var t=e.title,n=e.subTitle,a=e.link,c=e.linkText,l=e.compact;return r.a.createElement("header",{className:p()(l?"header--content":"header--home")},r.a.createElement("div",{className:"row"},t&&r.a.createElement("h1",null,t),n&&r.a.createElement("h2",null,n),a&&r.a.createElement(u.HashLink,{smooth:!0,to:"".concat(a)},r.a.createElement("div",{className:"button button-ghost"},c))))},h=n(8),E=n(38),f=n(39),b=n.n(f),g=n(20);function k(){var e=Object(E.a)(["\n  display: inline-block;\n  margin: auto;\n  max-width: 100%;\n"]);return k=function(){return e},e}var w=Object(g.css)(k());var j=function(){return r.a.createElement("div",{className:"spinner--blocker"},r.a.createElement("div",{className:"spinner--container"},r.a.createElement(b.a,{css:w,size:100,color:"#a10000",loading:!0})))},O=n(41),y=n(9),x=n.n(y),N=n(14),S=n(17),L=n.n(S),H=n(18),T=L.a.create({baseURL:"".concat(H.backendurl,"/singletons/get/")});function G(e){return T.request({url:e,method:"GET",headers:{Accept:"application/json"}})}var C=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)(!1),s=Object(i.a)(l,2),u=s[0],o=s[1],m=Object(a.useState)(null),d=Object(i.a)(m,2),p=d[0],v=d[1];return Object(a.useEffect)((function(){function t(){return(t=Object(N.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,Promise.all(e.map(function(){var e=Object(N.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,G(t);case 3:return e.t1=e.sent.data,e.abrupt("return",{id:e.t0,data:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:n=t.sent.reduce((function(e,t){return Object.assign(e,Object(O.a)({},t.id,t.data))}),{}),v(n),c(!1),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),o(!0),c(!1),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}r||u||p||function(){t.apply(this,arguments)}()}),[e,u,r,p]),{isLoading:r,singletons:p,hasError:u}};var J=function(){return r.a.createElement("div",null,"Something went wrong..")};var U=function(e,t){var n;return"section"===e.component?r.a.createElement("section",{key:t,id:e.settings.id,className:p()(e.settings.class,"ib")},null===(n=e.children)||void 0===n?void 0:n.map((function(e,n){return function(e,t){switch(e.component){case"heading":return function(e,t){if(e.settings.tag)return r.a.createElement(e.settings.tag,{key:t,id:e.settings.id,className:e.settings.class},e.settings.text);return null}(e,t);case"text":return function(e,t){return r.a.createElement(h.a,{key:t,content:e.settings.text})}(e,t)}return null}(e,"".concat(t,"_").concat(n))}))):null};var W=function(e){var t=e.content,n=e.identifier;return r.a.createElement(r.a.Fragment,null,U(t,n))};var _=function(){var e,t,n=C(["about","events"]),a=n.isLoading,c=n.singletons,l=n.hasError;return r.a.createElement("div",null,r.a.createElement(v,{title:"Helvetic Speedrunners",subTitle:"The Swiss Speedrunning Community",link:"/#events",linkText:"View our events"}),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},a&&r.a.createElement(j,null)),!a&&c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,r.a.createElement(h.a,{content:c.about.title})),null===(e=c.about.content)||void 0===e?void 0:e.map((function(e,t){return r.a.createElement(W,{key:t,identifier:t,content:e})}))),r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,r.a.createElement(h.a,{content:c.events.title})),null===(t=c.events.content)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(W,{key:t,identifier:t,content:e})})))),!a&&l&&r.a.createElement(J,null)))},A=L.a.create({baseURL:"".concat(H.backendurl,"/collections/get/galleries")});function F(){return A.request({url:"/",method:"GET",headers:{Accept:"application/json"}})}var R=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(a.useState)(null),m=Object(i.a)(o,2),d=m[0],p=m[1];return Object(a.useEffect)((function(){function e(){return(e=Object(N.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,F();case 4:t=e.sent,n=t.data,p(n.entries),r(!1),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),u(!0),r(!1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}n||s||d||function(){e.apply(this,arguments)}()})),{isLoading:n,galleries:d,hasError:s}},q=n(43);var B=function(){var e=R(),t=e.isLoading,n=e.galleries,a=e.hasError;return r.a.createElement("div",null,r.a.createElement(v,{compact:!0,title:"Helvetic Speedrunners",subTitle:"Gallery"}),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},t&&r.a.createElement(j,null)),!t&&n&&n.map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,r.a.createElement(h.a,{content:e.title})),r.a.createElement("div",null,r.a.createElement(h.a,{content:e.description})),r.a.createElement(q.a,{galleryClasses:"gallery-wrapper",files:e.pictures.map((function(e){return"https://api.speedrun.ch/"+e.path})),thumbnails:e.pictures.map((function(e){return"https://api.speedrun.ch/"+e.path}))}))})),!t&&a&&r.a.createElement(J,null)))},Y=(n(75),n(1)),z=function(){return r.a.createElement("div",null,r.a.createElement(s.HashRouter,null,r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(Y.g,null,r.a.createElement(Y.d,{exact:!0,path:"/gallery",render:function(){return document.title="Helvetic Speedrunners - Gallery",r.a.createElement(B,null)}}),r.a.createElement(Y.d,{path:"/",render:function(){return document.title="Helvetic Speedrunners - Home",r.a.createElement(_,null)}})))))};l.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.b5b64d47.chunk.js.map